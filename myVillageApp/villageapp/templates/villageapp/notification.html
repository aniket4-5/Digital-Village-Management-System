{% extends 'villageapp/base.html' %}
{% load static %}
{% block content%}
<div class="p-2">

<!-- Scrolling image : Carsoul -->
<section class="my-2 container-fluid">
  <div id="cr" class="carousel slide" data-bs-ride="carousel">
      <div class="carousel-indicators">
          <button type="button" data-bs-target="#cr" data-bs-slide-to="0" class="active" aria-current="true"
              aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#cr" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#cr" data-bs-slide-to="2" aria-label="Slide 3"></button>
          <button type="button" data-bs-target="#cr" data-bs-slide-to="3" aria-label="Slide 4"></button>
          <button type="button" data-bs-target="#cr" data-bs-slide-to="4" aria-label="Slide 5"></button>
          <button type="button" data-bs-target="#cr" data-bs-slide-to="5" aria-label="Slide 6"></button>
      </div>
      <div class="carousel-inner">
          <div class="carousel-item active">
              <img src="{% static 'villageapp/images/not1.jpg' %}" class="d-block w-100" style="height: 35rem;" alt="...">
              <div class="carousel-caption d-none d-md-block">
                <h3>Public Service Related Information </h3>

            </div>
              
          </div>
          <div class="carousel-item">
              <img src="{% static 'villageapp/images/covid1.jpeg'%}" class="d-block w-100" style="height: 35rem;" alt="...">
              <div class="carousel-caption d-none d-md-block">
                <h3>Medical Related Information</h3>

            </div>
              
          </div>
          <div class="carousel-item">
              <img src="{% static 'villageapp/images/poll1.png'%}" class="d-block w-100" style="height: 35rem;" alt="...">
              <div class="carousel-caption d-none d-md-block">
                <h3>Polling Related Information</h3>

            </div>
              
          </div>
          <div class="carousel-item">
              <img src="{% static 'villageapp/images/s2.png'%}" class="d-block w-100" style="height: 35rem;" alt="...">
              <div class="carousel-caption d-none d-md-block">
                <h3>Gram Sabha Meeting Related Information </h3>

            </div>
              
          </div>
          <div class="carousel-item">
              <img src="{% static 'villageapp/images/s1.png'%}" class="d-block w-100" style="height: 35rem;" alt="...">
              <div class="carousel-caption d-none d-md-block">
                  <h3>Sports Related Information</h3>
              </div>
          </div>
         
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#cr" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#cr" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
      </button>
  </div>
</section>














    <h1 class="text-center bg-light my-4 alert alert-success p-2 ">All Notifications</h1>

    {% if user.is_superuser %}
    <a href="{% url 'notif_new_add' %}" class="btn btn-success my-3">Add New Notification</a>
    {% endif %}
    {% if data %}
    
    <table class="table">
      <thead class="bg-dark text-warning">
        <tr>
          <th scope="col">Notification Id</th>
          <th scope="col">Title</th>
          <th scope="col">Date Posted</th>
          
          <th scope="col">More</th>
        </tr>
      </thead>
      <tbody>
    {% for item  in data  %}


        <tr>
          <td>{{item.id}}</td>
          <td>{{item.title}}</td>
          <td>{{item.date_posted|date:"d - F - Y"}}</td>
          <td> <a href="{% url 'notif_detail' item.id %}" class="btn btn-primary">View Details</a></td>
        </tr>
      


       
    
    {% endfor %}
   
  </tbody>
</table>

    {% else %}
    
    <h3>No Notifications found </h3>

    {% endif%}

</div>
 {% comment %} {% if is_paginateed %}
    {% if page_obj.has_previous%}

      <a class="btn btn-outline-info mb-4 "href="?page=1">First</a>
      <a class="btn btn-outline-info mb-4 "href="?page={{page_obj.previous_page_number}}">Previous</a>
    {% endif %}
    {% for num in page_obj.paginator.page_range  %}
     {% if page_obj.number == num  %}
     <a class="btn btn-info mb-4" href="?page ={{ num }}">First</a>
       {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
       <a class="btn btn-outline-info mb-4 "href="?page={{ page_obj.paginator.num_page}}">Last</a>
      {% endif %}
      
    {% endfor %}
    {% if page_obj.has_next %}

    <a class="btn btn-outline-info mb-4 " href="?page={{page_obj.next_page_number }}">Next</a>
    <a class="btn btn-outline-info mb-4 "href="?page={{page_obj.previous_page_number}}">Previous</a>
  {% endif %}
 {% endif %} {% endcomment %}

 <div class='p-2'>
  {% if is_paginated %}

  {% if page_obj.has_previous %}
    <a class="btn btn-outline-info mb-4" href="?page=1">First</a>
    <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.previous_page_number }}">Previous</a>
  {% endif %}
 
  {% for num in page_obj.paginator.page_range %}
    {% if page_obj.number == num %}
      <a class="btn btn-info mb-4" href="?page={{ num }}">{{ num }}</a>
    {% elif num > page_obj.number|add:'-3' and num < page_obj.number|add:'3' %}
      <a class="btn btn-outline-info mb-4" href="?page={{ num }}">{{ num }}</a>
    {% endif %}
  {% endfor %}
 
  {% if page_obj.has_next %}
    <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.next_page_number }}">Next</a>
    <a class="btn btn-outline-info mb-4" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
  {% endif %}
 
 {% endif %}
 </div>
{% endblock content%}